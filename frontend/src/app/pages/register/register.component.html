<section class="register-container flex flex-col items-center justify-center">
  <div class="text-center mb-8">
    <h1 class="text-2xl font-bold">Inscription</h1>
    <p class="text-gray-600">Créez votre compte</p>
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-4">
    <div class="tui-form__row">
      <tui-input formControlName="username">
        Nom d'utilisateur
        <input tuiTextfieldLegacy />
      </tui-input>
      @if (registerForm.get('username')?.errors &&
      registerForm.get('username')?.touched) {
      <tui-error
        >Le nom d'utilisateur doit contenir au moins 3 caractères</tui-error
      >
      }
    </div>

    <div class="tui-form__row">
      <tui-input formControlName="email">
        Email
        <input tuiTextfieldLegacy type="email" />
      </tui-input>
      @if (registerForm.get('email')?.errors &&
      registerForm.get('email')?.touched) {
      <tui-error>L'email n'est pas valide</tui-error>
      }
    </div>

    <div class="tui-form__row">
      <tui-input formControlName="password">
        Mot de passe
        <input tuiTextfieldLegacy type="password" />
      </tui-input>
      @if (registerForm.get('password')?.errors &&
      registerForm.get('password')?.touched) {
      <tui-error>Le mot de passe doit contenir au moins 6 caractères</tui-error>
      }
    </div>

    <div class="flex flex-col gap-4">
      <button
        tuiButton
        type="submit"
        appearance="primary"
        [loading]="store.loading"
        [disabled]="registerForm.invalid"
        class="tui-form__button"
      >
        S'inscrire
      </button>

      <a
        routerLink="/auth/login"
        class="text-center text-sm text-tui-text-02 hover:text-tui-text-01"
      >
        Déjà un compte ? Se connecter
      </a>
    </div>
  </form>
</section>
